    
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Google Playstore Data Visualization</title>

	<link rel="stylesheet" href="dc.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

</head>
<body>
	<h1>Google Playstore Data Visualization</h1>
		<div id="Category">
		<strong>App Category</strong>
		<span class="reset" style="display: none;">Selected: <span class="
		filter"></span></span>
		<a class="reset" href="
		javascript:CategoryChart.filterAll();dc.redrawAll();" style="display:
			 none;">reset</a>
				
		<div class="clearfix"></div>

	</div>
	
	<div id="AppName">
		<strong>App Name</strong>
		<span class="reset" style="display: none;">Selected: <span class="
		filter"></span></span>
		<a class="reset" href="
		javascript:AppNameChart.filterAll();dc.redrawAll();" style="display:
			none;">reset</a>
					
			<div class="clearfix"></div>
	</div>

	<div>
			<div class="dc-data-count">
				  
					<span class="filter-count"></span> selected out of <span class="total-count"></span> records | <a
							href="javascript:dc.filterAll(); dc.renderAll();">Reset All</a>
			</div>
	</div>
	  
	<!--//<table class="table table-hover dc-data-table">-->
			<table class="table dc-data-table table-bordered header-fixed" style="border :1px">
	</table>
		

	

	<script src="crossfilter.js"></script>
	<script src="d3.js"></script>
	<script src="dc.js"></script>

	<script>
		var CategoryChart = dc.rowChart("#Category"),
				AppNameChart = dc.rowChart("#AppName"),
				VisCount = dc.dataCount(".dc-data-count"),
				VisTable = dc.dataTable(".dc-data-table");



		 var url = "googleplaystore.csv";
		 console.log(url);
	   
		//  d3.csv(url, function (err, data) {
			d3.json("http://127.0.0.1:5000/MyData", function (err, data) {
				if (err) throw err;
			// console.log("Err:");
			// console.log(err);

			 	console.log("data:")
			 	console.log(data);

				var ndx = crossfilter(data);
				var all = ndx.groupAll();

				 var CategoryDim = ndx.dimension( function (d) { return d["Category"]; });
				 var AppnameDim = ndx.dimension( function (d) { return d["App_Name"]; });
				//var AppnameDim = ndx.dimension( function (d) { return d["Installs"]; });
				
				var CategoryGroup = CategoryDim.group();
				 var AppnameGroup = AppnameDim.group();
				// var AppnameGroup = AppnameDim.group(function(d){
				// 	return +d['Installs'];
				// });

				CategoryChart
				  .height(500)
					.dimension(CategoryDim)
					.group(CategoryGroup)
					.elasticX(true)
					.data(function (group) {return group.top(10);});
			

				AppNameChart
					
				  .height(500)
					.dimension(AppnameDim)
					.group(AppnameGroup)
					.elasticX(true)
					.data(function (group) {return group.top(10);});

				VisCount
					.dimension(ndx)
					.group(all);

				// VisTable
				//   .dimension(AppnameDim)
				// 	.group(AppnameGroup)
				// 	.columns([
				// 		"App_Name",
				// 	  "Category",
				// 		"Rating",
				// 		"Reviews",
				// 		"Installs",
				// 		"Type",
				// 		"Price",
				// 		"Content_Rating"
				// 		]);


					VisTable
				  .dimension(AppnameDim)
					.group(function(d){
						//console.log("d:");
						//console.log(d);

						return d.App_Name;
					})
					.columns([
						"App_Name",
					  "Category",
						"Rating",
						"Reviews",
						"Installs",
						"Type",
						"Price",
						"Content_Rating"
						]);
				
				 dc.renderAll();




	   });
	</script>
	
</body>
</html>